<html><body><canvas></canvas><script>var a=(new Date).getTime(),e=2*Math.PI,f=0,g=0,h=new WebSocket("ws://valot.party:9910");h.onopen=function(){function c(){for(var d=1;22>d;d++){var k=4+6*d;b[k]=1;b[k+1]=d;b[k+4]=g*l(2,.4*d)*100;b[k+5]=g*(155*l(4,.2*d)+50)}h.send(b);setTimeout(c,10)}var b=new Uint8Array(166);b[0]=1;b[1]=0;b[2]=97;b[3]=0;c()};var m=document.querySelector("canvas"),n=m.style;n.position="fixed";n.left=0;n.top=0;n.cursor="none";var p=m.getContext("webgl")||m.getContext("experimental-webgl"),q=p.createProgram();
r(p.VERTEX_SHADER,"attribute vec4 p;void main(void){gl_Position=p;}");r(p.FRAGMENT_SHADER,"precision mediump float;uniform vec4 r;float t=r.z;\n#define b 6.28318\nfloat e(float f,float g,float h,float m){return(t<=f)?h:(t>=f+g)?m:mix(h,m,.5-cos((t-f)/g*b/2.)/2.);}float n(float d,float s){return 1.+.05*sin(d*400.*e(42.,10.,1.,.3)*(1.+s))+d*d*.4;}float o(vec2 p,vec2 q,float u,float v,float A){vec2 B=p-q;float l=length(B);float a=atan(B.y,B.x);u+=cos(l*13.-t*2.)*A;float C=1.;float D=mod(a-u+b,b);float E=mod(u-a+b,b);return(min(D,E)-(v-l)*C)/5.;}vec4 F(vec2 p,vec2 q,float G){float H=G*(.2+cos(t*1.7)*.02);float I=distance(q,p)-H;float J=7.;float K=I;for(int i=1;i<9;i++){K=min(K,o(p,q,float(i)*b/J-t/2.,.5*G,.1));}vec3 L=vec3(0.);if(K<0.){float M=.8/H;L=vec3(.1+K*2.,.4-K*.5,.3+K)*n(K,M);float N=(.65+.05*sin(t*b/5.))*H;float O=distance(q,p)-N;if(O<0.){L.rgb=vec3(.3,.1,.2);L.rgb*=1.+O*7.;L*=n(O,M)*1.5-.2;}vec2 B=p-q;float a=atan(B.y,B.x)+t*.1+sin(t*4.)*.05;float P=.16*H*(acos(sin(a*19.))*4./b-.8);if(O< -.005 && O+P>0.){L=vec3(.8,.7,.6)*n(O+P,M/2.);}}return vec4(L,K);}float Q(vec2 p,vec2 R,float S,float T,float U){vec2 K=abs(R-p);float V=clamp(-(R.y-p.y-S/2.)/S,0.,1.);float W=K.y-S/2.;float X=K.x-mix(U,T,V)/2.;return max(X,W);}vec4 Y(vec2 p,vec2 Z,float ba,float G){float s=G*.22;float bb=Q(p,Z,s*.7,s*3.,s*2.);float bc=Q(p,Z-vec2(0.,-s*1.7),s*3.,s*.1,s*.1);float Y=min(bb,bc);float bd=Q(p,Z-vec2(0.,-s*1.8),s*2.5,s*.3,s*2.7);if(Y<0.){return vec4(vec3(.7,.5,.2)*n(Y,.6),Y);}else{return vec4(vec3(.8,.7,.9)*n(bd,.6),bd);}}void main(void){vec2 Z=(gl_FragCoord.xy*2.-r.xy)/max(r.x,r.y);float be=0.;float bf=e(9.,8.,0.,1.);vec3 c=mix(vec3(.7,.9,.8),vec3(.4,.6,.9),Z.y+.5);c*=1.+.3*n(Z.y,3.-Z.y*3.);for(int j=1;j<=15;j+=1){float i=float(j);float x=(sin(i*i*2.1019)+1.)/2.;float bg=bf*x*b;float bh=(t-5.)*(6.-i*.1);float bi=.025;float bj=max(0.,bi-bf*i*.0016);float k=b/bi;float bk=5.+i*bf;float bl=((1.-1./16.*pow((k*bi),2.))*cos(Z.x*bk+bh+bg)+.5*k*bi*cos(2.*bk*Z.x+bh+bg));float be=bj*pow(bl,1.)+sin(bh+x*12.2)*.01/i+bf*(i*(.06-i*.0009)-.5)+.40*(1.-bf)+e(2.,4.,.4,0.);float bm=e(23.,1.,10.,0.);float bn=e(39.,1.,0.,-4.);if(j>4+int(bm)+int(bn)){float bo=e(22.,.1,0.,1.);float bp=e(27.,.1,1.,0.);float bq=e(27.,3.5,0.,.97);float br= -1.1+bo+sin(t-22.)*bo*bp-1.1+bp+bq+sin(t-31.5)*e(31.5,.2,0.,1.);vec4 bs=F(Z,vec2(-.5+.7*bq,br),1.-(bm/30.)+e(38.5,2.5,0.,11.));if(bs.a<0.){c=bs.rgb;break;}}float bt=e(25.,.1,10.,0.);if(j>3+int(bt)){float bu=e(14.,11.,-1.5,1.4)+e(25.1,7.,0.,-1.3);vec4 Y=Y(Z,vec2(bu,-.31+sin(t*4.)*.024+bt*.044),0.,e(29.3,1.7,1.,0.)*1.-(bt/19.));if(Y.a<0.){c=Y.rgb;break;}}if(Z.y<be){c=mix(vec3(0.,.1,.2),vec3(.6,.6+i/60.,.9),.05*i);c*=n(Z.y-be,i/8.);break;}}c*=r.w;gl_FragColor=vec4(c,1.);}");
p.linkProgram(q);p.useProgram(q);var t=new Float32Array([-1,3,-1,-1,3,-1]),u=p.ARRAY_BUFFER;p.bindBuffer(u,p.createBuffer());p.bufferData(u,t,p.STATIC_DRAW);var v=p.getAttribLocation(q,"p");p.vertexAttribPointer(v,2,p.FLOAT,!1,0,0);p.enableVertexAttribArray(v);var w=p.getUniformLocation(q,"r"),x=new (window.AudioContext||window.webkitAudioContext),y=0,z=0,A=x.createScriptProcessor(4096,1,1);
A.onaudioprocess=function(c){c=c.outputBuffer.getChannelData(0);for(var b=0;4096>b;b++)c[b]=(z+.02*(2*Math.random()-1))/1.02,z=c[b],c[b]=3.5*c[b]*y};A.connect(x.destination);
function B(){m.width=window.innerWidth;m.height=window.innerHeight;var c=p.drawingBufferHeight,b=p.drawingBufferWidth;f=.001*((new Date).getTime()-a);p.uniform4f(w,b,c,f,g);p.viewport(0,0,b,c);p.clearColor(0,0,0,0);p.drawArrays(p.TRIANGLES,0,3);g=Math.max(Math.min(Math.min((f-1)/3,1),(46-f)/3),0);y=.2+.15*l(2.7,0)+.3*l(7.3,2);y*=g;requestAnimationFrame(B)}function r(c,b){c=p.createShader(c);p.shaderSource(c,b);p.compileShader(c);p.attachShader(q,c)}
function l(c,b){return.5-Math.sin((f+(b||0))*e/c)/2}B();
</script></body></html>