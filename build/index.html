<html><body><canvas></canvas><script>var a="precision mediump float;uniform vec4 r;^t=r.z;\n#define b 6.28318\n^e(^f,^g,^h,^m){return(t<=f)?h:(t>=f+g)?m:mix(h,m,.5-cos((t-f)/g*b/2.)/2.);}^n(^d,^s){~1.+.05*sin(d*400.*e(42.,10.,1.,.3)*(1.+s))+d*d*.4;}^o(@p,@q,^u,^v,^A){@B=p-q;^l=length(B);^a=atan(B.y,B.x);u+=cos(l*13.-t*2.)*A;^C=1.;^D=mod(a-u+b,b);^E=mod(u-a+b,b);return(min(D,E)-(v-l)*C)/5.;}vec4 F(@p,@q,^G){^H=G*(.2+cos(t*1.7)*.02);^I=distance(q,p)-H;^J=7.;^K=I;for(int i=1;i<9;i++){K=min(K,o(p,q,float(i)*b/J-t/2.,.5*G,.1));}vec3 L=vec3(0.);if(K<0.){^M=.8/H;L=vec3(.1+K*2.,.4-K*.5,.3+K)*n(K,M);^N=(.65+.05*sin(t*b/5.))*H;^O=distance(q,p)-N;if(O<0.){L.rgb=vec3(.3,.1,.2);L.rgb*=1.+O*7.;L*=n(O,M)*1.5-.2;}@B=p-q;^a=atan(B.y,B.x)+t*.1+sin(t*4.)*.05;^P=.16*H*(acos(sin(a*19.))*4./b-.8);if(O< -.005 && O+P>0.){L=vec3(.8,.7,.6)*n(O+P,M/2.);}}~vec4(L,K);}^Q(@p,@R,^S,^T,^U){@K=abs(R-p);^V=clamp(-(R.y-p.y-S/2.)/S,0.,1.);^W=K.y-S/2.;^X=K.x-mix(U,T,V)/2.;~max(X,W);}vec4 Y(@p,@Z,^ba,^G){^s=G*.22;^bb=Q(p,Z,s*.7,s*3.,s*2.);^bc=Q(p,Z-vec2(0.,-s*1.7),s*3.,s*.1,s*.1);^Y=min(bb,bc);^bd=Q(p,Z-vec2(0.,-s*1.8),s*2.5,s*.3,s*2.7);if(Y<0.){~vec4(vec3(.7,.5,.2)*n(Y,.6),Y);}else{~vec4(vec3(.8,.7,.9)*n(bd,.6),bd);}}void main(void){@Z=(gl_FragCoord.xy*2.-r.xy)/max(r.x,r.y);^be=0.;^bf=e(9.,8.,0.,1.);vec3 c=mix(vec3(.7,.9,.8),vec3(.4,.6,.9),Z.y+.5);c*=1.+.3*n(Z.y,3.-Z.y*3.);for(int j=1;j<=15;j+=1){^i=float(j);^x=(sin(i*i*2.1019)+1.)/2.;^bg=bf*x*b;^bh=(t-5.)*(6.-i*.1);^bi=.025;^bj=max(0.,bi-bf*i*.0016);^k=b/bi;^bk=5.+i*bf;^bl=((1.-1./16.*pow((k*bi),2.))*cos(Z.x*bk+bh+bg)+.5*k*bi*cos(2.*bk*Z.x+bh+bg));^be=bj*pow(bl,1.)+sin(bh+x*12.2)*.01/i+bf*(i*(.06-i*.0009)-.5)+.40*(1.-bf)+e(2.,4.,.4,0.);^bm=e(23.,1.,10.,0.);^bn=e(39.,1.,0.,-4.);if(j>4+int(bm)+int(bn)){^bo=e(22.,.1,0.,1.);^bp=e(27.,.1,1.,0.);^bq=e(27.,3.5,0.,.97);^br= -1.1+bo+sin(t-22.)*bo*bp-1.1+bp+bq+sin(t-31.5)*e(31.5,.2,0.,1.);vec4 bs=F(Z,vec2(-.5+.7*bq,br),1.-(bm/30.)+e(38.5,2.5,0.,11.));if(bs.a<0.){c=bs.rgb;break;}}^bt=e(25.,.1,10.,0.);if(j>3+int(bt)){^bu=e(14.,11.,-1.5,1.4)+e(25.1,7.,0.,-1.3);vec4 Y=Y(Z,vec2(bu,-.31+sin(t*4.)*.024+bt*.044),0.,e(29.3,1.7,1.,0.)*1.-(bt/19.));if(Y.a<0.){c=Y.rgb;break;}}if(Z.y<be){c=mix(vec3(0.,.1,.2),vec3(.6,.6+i/60.,.9),.05*i);c*=n(Z.y-be,i/8.);break;}}c*=r.w;gl_FragColor=vec4(c,1.);}".replace(/~/g,
"return ").replace(/@/g,"vec2 ").replace(/\^/g,"float "),e=(new Date).getTime(),f=2*Math.PI,g=0,h=0,l=new WebSocket("ws://valot.party:9910");l.onopen=function(){function c(){for(var d=0;27>d;d++){var k=4+6*d;b[k]=1;b[k+1]=d;b[k+4]=h*m(2,.4*d)*100;b[k+5]=h*m(4,.2*d)*155+50}l.send(b);setTimeout(c,10)}var b=new Uint8Array(166);b[0]=1;b[1]=0;b[2]=97;b[3]=0;c()};var n=document.querySelector("canvas"),p=n.style;p.position="fixed";p.left=0;p.top=0;p.cursor="none";
var q=n.getContext("webgl")||n.getContext("experimental-webgl"),r=q.createProgram();t(q.VERTEX_SHADER,"attribute vec4 p;void main(void){gl_Position=p;}");t(q.FRAGMENT_SHADER,a);q.linkProgram(r);q.useProgram(r);var u=new Float32Array([-1,3,-1,-1,3,-1]),v=q.ARRAY_BUFFER;q.bindBuffer(v,q.createBuffer());q.bufferData(v,u,q.STATIC_DRAW);var w=q.getAttribLocation(r,"p");q.vertexAttribPointer(w,2,q.FLOAT,!1,0,0);q.enableVertexAttribArray(w);
var x=q.getUniformLocation(r,"r"),y=new (window.AudioContext||window.webkitAudioContext),z=0,A=0,B=y.createScriptProcessor(4096,1,1);B.onaudioprocess=function(c){c=c.outputBuffer.getChannelData(0);for(var b=0;4096>b;b++)c[b]=(A+.02*(2*Math.random()-1))/1.02,A=c[b],c[b]=3.5*c[b]*z};B.connect(y.destination);
function C(){n.width=window.innerWidth;n.height=window.innerHeight;var c=q.drawingBufferHeight,b=q.drawingBufferWidth;g=.001*((new Date).getTime()-e);q.uniform4f(x,b,c,g,h);q.viewport(0,0,b,c);q.clearColor(0,0,0,0);q.drawArrays(q.TRIANGLES,0,3);h=Math.max(Math.min(Math.min((g-1)/3,1),(46-g)/3),0);z=.2+.15*m(2.7,0)+.3*m(7.3,2);z*=h;requestAnimationFrame(C)}function t(c,b){c=q.createShader(c);q.shaderSource(c,b);q.compileShader(c);q.attachShader(r,c)}
function m(c,b){return.5-Math.sin((g+(b||0))*f/c)/2}C();
</script></body></html>